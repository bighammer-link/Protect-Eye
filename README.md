## Protect Eye

Protect Eye 是一款轻量级 Chrome 护眼调光扩展，提供多套柔和配色、亮度滑杆与智能关停策略，帮助你在明亮环境下舒缓眼睛压力。

### 功能特性

- **多套护眼配色**：内置暖阳、琥珀、雾森、海雾、暗墨、夜读 6 种预设，可一键切换。
- **亮度/强度调节**：滑动条实时控制覆盖层透明度，松开滑杆后再写入配置，既丝滑又避免写入限额。
- **自定义颜色**：弹出式颜色面板任意取色，自动记忆上次自定义方案。
- **灵活关闭策略**：点击“自定义关闭”可选择四种策略：一直关闭、暂停一段时间、仅当前网站关闭、每天固定时段关闭，并可提前结束定时暂停。
- **站点白名单**：对特定域名停用护眼效果，随时恢复。

### 使用方法

1. 打开 Chrome 的 `chrome://extensions`，启用“开发者模式”。
2. - Release中下载该仓库代码压缩包并解压，浏览器中选择“加载已解压的扩展程序”，指向解压出来的目录即可。
   - Release中下载CRX插件文件，下载完成后将CRX文件拖入浏览器扩展程序界面即可。
   - Chrome 扩展应用商店
3. 点击扩展工具栏图标，使用弹窗：
   - 顶部开关：整体启用/停用护眼模式，随时恢复至默认护眼效果。
   - 护眼预设：点击任意色块即可应用。
   - 亮度滑杆：0%~75% 实时调节，松开后自动保存。
   - 自定义颜色：使用原生取色器或“使用当前颜色”按钮快速设定。
   - 关闭策略：点击“自定义关闭”展开子面板，选择需要的策略（定时暂停支持“提前结束”）。

### 目录结构

```
Protect Eye/
├── manifest.json         # Chrome 扩展清单 (MV3)
├── README.md
└── src
    ├── contentScript.js  # 在每个页面注入的护眼层逻辑
    └── popup
        ├── popup.html
        ├── popup.css
        └── popup.js      # 弹窗 UI、节流存储、关停策略
```

### 开发说明

1. **安装依赖**：本扩展只使用原生 API，无需额外依赖或构建步骤。
2. **调试内容脚本**：在任意网页按 `F12`，切换到“Sources → Content scripts → src/contentScript.js`”即可实时查看日志。
3. **修改 UI**：编辑 `src/popup/` 下文件后，在扩展页点击“重新加载”即可看到变更。
4. **配置项**：所有配置通过 `chrome.storage.local` 的 `protectEyeSettings` 键持久化，如需重置可在 DevTools Console 中执行 `chrome.storage.local.remove('protectEyeSettings')`。
5. **常见问题**：
   - 若出现写入频繁报错，请确认未在极短时间内连续拖动多个滑块或脚本未被手动修改节流逻辑。
   - 若当前站点未生效，请确认该站点没有被加入“仅当前网站关闭”列表，或页面不是 `chrome://`、`file://` 这类禁止注入的协议。

### 图标自定义

- 图标位于 `icons/` 目录（16、32、48、128 像素），Manifest 已指向这些文件。
- 若需替换自己的设计，只要用同名 PNG 覆盖即可，重新在 `chrome://extensions` 中“重新加载”扩展后立即生效。

欢迎根据个人习惯扩展更多预设、调光算法或同步到多设备的逻辑。若有新的需求，可提 Issues。
